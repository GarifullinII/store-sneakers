(this["webpackJsonpstore-sneakers"]=this["webpackJsonpstore-sneakers"]||[]).push([[0],{16:function(e,t,c){e.exports={card:"Card_card__35wN0",plus:"Card_plus__3MF9E",favorite:"Card_favorite__-ptFE"}},39:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),i=c(32),n=c.n(i),r=c(11),l=(c(39),c(19)),d=c.n(l),j=c(33),o=c(22),b=c(8),h=c(9),u=c.n(h),m=c(2),x=c.p+"static/media/logo.9e858141.svg",f=c.p+"static/media/cart.5113b08f.svg",O=c.p+"static/media/heart.31c528b0.svg",p=c.p+"static/media/user.381202f7.svg",v=c(0),g=function(e){return Object(v.jsxs)("header",{className:"d-flex justify-between align-center p-40",children:[Object(v.jsx)(r.b,{to:"/",children:Object(v.jsxs)("div",{className:"d-flex align-center",children:[Object(v.jsx)("img",{width:40,height:40,src:x,alt:"logo"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:"text-uppercase",children:"The Best Sneakers"}),Object(v.jsx)("p",{className:"opacity-5",children:"shop of the best sneakers"})]})]})}),Object(v.jsxs)("ul",{className:"d-flex",children:[Object(v.jsxs)("li",{className:"mr-30 cu-p",children:[Object(v.jsx)("img",{onClick:e.onClickCart,width:18,height:18,src:f,alt:"cart"}),Object(v.jsx)("span",{children:"230 $"})]}),Object(v.jsx)("li",{className:"mr-20 cu-p",children:Object(v.jsx)(r.b,{to:"/favorites",children:Object(v.jsx)("img",{width:18,height:18,src:O,alt:"like"})})}),Object(v.jsx)("li",{className:"cu-p",children:Object(v.jsx)("img",{width:18,height:18,src:p,alt:"user"})})]})]})},k=c.p+"static/media/btn-remove.b1fef0aa.svg",N=c.p+"static/media/arrow.fc322251.svg",w=c.p+"static/media/empty-cart.03669791.jpg",C=function(e){var t=e.onClose,c=e.onRemove,a=e.items,s=void 0===a?[]:a;return Object(v.jsx)("div",{className:"overlay",children:Object(v.jsxs)("div",{className:"drawer",children:[Object(v.jsxs)("h2",{className:"d-flex justify-between mb-30",children:["Basket",Object(v.jsx)("img",{onClick:t,className:"removeBtn cu-p",src:k,alt:"remove"})]}),s.length>0?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"items",children:s.map((function(e){return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"cartItem d-flex align-center mb-20",children:[Object(v.jsx)("div",{style:{backgroundImage:"url(".concat(e.imgUrl,")")},className:"cartItemImg"}),Object(v.jsxs)("div",{className:"mr-20 flex",children:[Object(v.jsx)("p",{className:"mb-5",children:e.title}),Object(v.jsx)("b",{children:e.price})]}),Object(v.jsx)("img",{onClick:function(){return c(e.id)},className:"removeBtn",src:k,alt:"remove"})]})})}))}),Object(v.jsxs)("div",{className:"cartTotalBlock",children:[Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Total:"}),Object(v.jsx)("div",{}),Object(v.jsx)("b",{children:"650 $"})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Tax 5%:"}),Object(v.jsx)("div",{}),Object(v.jsx)("b",{children:"32 $"})]})]}),Object(v.jsxs)("button",{className:"greenButton",children:["Checkout ",Object(v.jsx)("img",{src:N,alt:"arrow"})]})]})]}):Object(v.jsxs)("div",{className:"cartEmpty d-flex align-center justify-center flex-column flex",children:[Object(v.jsx)("img",{className:"mb-20",width:"120px",height:"120px",src:w,alt:"basket is empty"}),Object(v.jsx)("h2",{children:"Basket is empty"}),Object(v.jsx)("p",{className:"opacity-6",children:"Add at least one pair of sneakers to order"}),Object(v.jsxs)("button",{onClick:t,className:"greenButton",children:[Object(v.jsx)("img",{src:N,alt:"arrow"}),"Come back"]})]})]})})},y=c(15),S=c.p+"static/media/search.48c52bf5.svg",F=c.p+"static/media/heart-unliked.b7857eaf.svg",T=c.p+"static/media/heart-liked.9b947698.svg",B=c.p+"static/media/btn-plus.a4c35ddb.svg",_=c.p+"static/media/btn-unchecked.4bd49de7.svg",A=c(16),I=c.n(A),E=function(e){var t=e.id,c=e.title,a=e.imgUrl,i=e.price,n=e.onFavorite,r=e.onPlus,l=e.favorited,d=void 0!==l&&l,j=s.a.useState(!1),o=Object(b.a)(j,2),h=o[0],u=o[1],m=s.a.useState(d),x=Object(b.a)(m,2),f=x[0],O=x[1];return Object(v.jsxs)("div",{className:I.a.card,children:[Object(v.jsx)("div",{className:I.a.favorite,onClick:function(){n({id:t,title:c,imgUrl:a,price:i}),O(!f)},children:Object(v.jsx)("img",{src:f?T:F,alt:"unliked"})}),Object(v.jsx)("img",{width:133,height:112,src:a,alt:"sneakers"}),Object(v.jsx)("h5",{children:c}),Object(v.jsxs)("div",{className:"d-flex justify-between align-center",children:[Object(v.jsxs)("div",{className:"d-flex flex-column",children:[Object(v.jsx)("span",{children:"Price"}),Object(v.jsx)("b",{children:i})]}),Object(v.jsx)("img",{className:I.a.plus,onClick:function(){r({title:c,imgUrl:a,price:i}),u(!h)},src:h?_:B,alt:"plus"})]})]})},U=function(e){var t=e.items,c=e.searchValue,a=e.setSearchValue,s=e.onChangeSearchInput,i=e.onAddToFavorite,n=e.onAddToCart;return Object(v.jsxs)("div",{className:"content  p-40",children:[Object(v.jsxs)("div",{className:"d-flex align-center justify-between mb-40",children:[Object(v.jsx)("h1",{children:c?'Search by request: "'.concat(c,'"'):"All sneakers"}),Object(v.jsxs)("div",{className:"search-block d-flex",children:[Object(v.jsx)("img",{src:S,alt:"search"}),c&&Object(v.jsx)("img",{onClick:function(){return a("")},className:"clear cu-p",src:k,alt:"clear"}),Object(v.jsx)("input",{onChange:s,value:c,placeholder:"search ..."})]})]}),Object(v.jsx)("div",{className:"d-flex flex-wrap",children:t.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())})).map((function(e,t){return Object(v.jsx)(E,Object(y.a)({onFavorite:function(e){return i(e)},onPlus:function(e){return n(e)}},e),t)}))})]})},V=function(e){var t=e.items,c=e.onAddToFavorite;return Object(v.jsxs)("div",{className:"content  p-40",children:[Object(v.jsx)("div",{className:"d-flex align-center justify-between mb-40",children:Object(v.jsx)("h1",{children:"My favorites"})}),Object(v.jsx)("div",{className:"d-flex flex-wrap",children:t.map((function(e,t){return Object(v.jsx)(E,Object(y.a)({favorited:!0,onFavorite:c},e),t)}))})]})},M=function(){var e=s.a.useState([]),t=Object(b.a)(e,2),c=t[0],a=t[1],i=s.a.useState([]),n=Object(b.a)(i,2),r=n[0],l=n[1],h=s.a.useState([]),x=Object(b.a)(h,2),f=x[0],O=x[1],p=s.a.useState(""),k=Object(b.a)(p,2),N=k[0],w=k[1],y=s.a.useState(!1),S=Object(b.a)(y,2),F=S[0],T=S[1];s.a.useEffect((function(){u.a.get("https://60f30ad66d44f30017788896.mockapi.io/items").then((function(e){a(e.data)})),u.a.get("https://60f30ad66d44f30017788896.mockapi.io/cart").then((function(e){l(e.data)})),u.a.get("https://60f30ad66d44f30017788896.mockapi.io/favorites").then((function(e){O(e.data)}))}),[]);var B=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.find((function(e){return e.id===t.id}))){e.next=5;break}u.a.delete("https://60f30ad66d44f30017788896.mockapi.io/favorites/".concat(t.id)),e.next=10;break;case 5:return e.next=7,u.a.post("https://60f30ad66d44f30017788896.mockapi.io/favorites",t);case 7:c=e.sent,a=c.data,O((function(e){return[].concat(Object(o.a)(e),[a])}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Failed to add to favorites");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"wrapper clear",children:[Object(v.jsx)(g,{onClickCart:function(){T(!0)}}),F&&Object(v.jsx)(C,{items:r,onClose:function(){T(!1)},onRemove:function(e){u.a.delete("https://60f30ad66d44f30017788896.mockapi.io/cart/".concat(e)),l((function(t){return t.filter((function(t){return t.id!==e}))}))}}),Object(v.jsx)(m.a,{path:"/",exact:!0,children:Object(v.jsx)(U,{items:c,searchValue:N,setSearchValue:w,onChangeSearchInput:function(e){w(e.target.value)},onAddToFavorite:B,onAddToCart:function(e){u.a.post("https://60f30ad66d44f30017788896.mockapi.io/cart",e),l((function(t){return[].concat(Object(o.a)(t),[e])}))}})}),Object(v.jsx)(m.a,{path:"/favorites",exact:!0,children:Object(v.jsx)(V,{items:f,onAddToFavorite:B})})]})};c(65);n.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(r.a,{children:Object(v.jsx)(M,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.50a91cff.chunk.js.map